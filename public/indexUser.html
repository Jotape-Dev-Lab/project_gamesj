<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styleEditarPerfil.css">
    <title>Meu Perfil</title>
    <script type="text/javascript" src="script/scriptUser.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <section class="editar-perfil">

        <section class="menu-lateral">

            <div class="user">

                <div class="imgPerfil" id="img_user"></div>
                <h1 id="nome_user"></h1>

            </div>

            <hr>

            <div class="lista">

                <ul>
                    <a href="index.html">
                        <li>Página Inicial</li>
                    </a>
                    <a href="indexForum.html">
                        <li>Fórum</li>
                    </a>
                    <a href="index.html" onclick="limparSessao()">
                        <li>Sair</li>
                    </a>
                </ul>

            </div>

        </section>

        <section class="perfil">

            <div class="escolha-foto">

                <h1>Escolha sua foto de perfil</h1>

                <div class="fotos">

                    <div onclick="editarPerfil(1)" class="img" style="background-image: url(perfil/1.png);"></div>
                    <div onclick="editarPerfil(2)" class="img" style="background-image: url(perfil/2.png);"></div>
                    <div onclick="editarPerfil(3)" class="img" style="background-image: url(perfil/3.png);"></div>
                    <div onclick="editarPerfil(4)" class="img" style="background-image: url(perfil/4.png);"></div>
                    <div onclick="editarPerfil(5)" class="img" style="background-image: url(perfil/5.png);"></div>

                    <div onclick="editarPerfil(11)" class="img" style="background-image: url(perfil/11.png);"></div>
                    <div onclick="editarPerfil(12)" class="img" style="background-image: url(perfil/12.png);"></div>
                    <div onclick="editarPerfil(13)" class="img" style="background-image: url(perfil/13.png);"></div>
                    <div onclick="editarPerfil(14)" class="img" style="background-image: url(perfil/14.png);"></div>
                    <div onclick="editarPerfil(15)" class="img" style="background-image: url(perfil/15.png);"></div>

                    <div onclick="editarPerfil(21)" class="img" style="background-image: url(perfil/21.png);"></div>
                    <div onclick="editarPerfil(22)" class="img" style="background-image: url(perfil/22.png);"></div>
                    <div onclick="editarPerfil(23)" class="img" style="background-image: url(perfil/23.png);"></div>
                    <div onclick="editarPerfil(24)" class="img" style="background-image: url(perfil/24.png);"></div>
                    <div onclick="editarPerfil(25)" class="img" style="background-image: url(perfil/25.png);"></div>

                    <div onclick="editarPerfil(31)" class="img" style="background-image: url(perfil/31.png);"></div>
                    <div onclick="editarPerfil(32)" class="img" style="background-image: url(perfil/32.png);"></div>
                    <div onclick="editarPerfil(33)" class="img" style="background-image: url(perfil/33.png);"></div>
                    <div onclick="editarPerfil(34)" class="img" style="background-image: url(perfil/34.png);"></div>
                    <div onclick="editarPerfil(35)" class="img" style="background-image: url(perfil/35.png);"></div>

                    <div onclick="editarPerfil(41)" class="img" style="background-image: url(perfil/41.png);"></div>
                    <div onclick="editarPerfil(42)" class="img" style="background-image: url(perfil/42.png);"></div>
                    <div onclick="editarPerfil(43)" class="img" style="background-image: url(perfil/43.png);"></div>
                    <div onclick="editarPerfil(44)" class="img" style="background-image: url(perfil/44.png);"></div>
                    <div onclick="editarPerfil(45)" class="img" style="background-image: url(perfil/45.png);"></div>

                </div>

            </div>

            <div class="info-grafico">

                <div class="kpis">

                    <div class="kpi">
       
                        <h1>17</h1>
                        <h2>Quantidade de Avaliações Positivas</h2>
             
                    </div>

                    <div class="kpi">
       
                        <h1>23</h1>
                        <h2>Quantidade de Avaliações Negativas</h2>
             
                    </div>

                    <div class="kpi">

                        <h1>30</h1>
                        <h2>Quantidade de Comentários</h2>

                    </div>

                </div>

            </div>

            <div class="dashboard">

                <div class="title-graficos">

                    <h1>Avaliações </h1>

                    <h1>Comentários</h1>

                </div>

                <div class="graficos">
                    
                    <div class="grafico-1">
                        <div class="fundoGrafico">
                            <canvas id="graficoBarra"></canvas>
                        </div>
                    </div>
    
                    <div class="grafico-2">
                        <div class="fundoGrafico">
                            <canvas id="graficoDoughnut"></canvas>
                        </div>
                    </div>
    
                </div>
            </div>


        </section>

    </section>

</body>

</html>

<script>
    const graficoDeBarra = document.getElementById('graficoBarra');

    new Chart(graficoDeBarra, {
        type: 'bar',
        data: {
            labels: ['1 Estrela', '2 Estrela', '3 Estrela', '4 Estrela', '5 Estrela',],
            datasets: [{
                label: '# of Votes',
                data: [12, 19, 3, 5, 2],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    const image = new Image();
    image.src = './icon/rosaClaro.png';

    const plugin = {
        id: 'customCanvasBackgroundImage',
        beforeDraw: (chart) => {
            if (image.complete) {
                const ctx = chart.ctx;
                const { top, left, width, height } = chart.chartArea;
                const imageWidth = 80;
                const imageHeight = 80;
                const x = left + width / 2 - imageWidth / 2;
                const y = top + height / 2 - imageHeight / 2;
                ctx.drawImage(image, x, y, imageWidth, imageHeight);
            } else {
                image.onload = () => chart.draw();
            }
        }
    };

    const graficoDePizza = document.getElementById('graficoDoughnut').getContext('2d');

    new Chart(graficoDePizza, {
        type: 'doughnut',
        plugins: [plugin],
        data: {
            labels: ['Brawlhalla', 'Minecraft', 'Pokémon', 'Rocket League', 'Valorant',],
            datasets: [{
                label: 'Quantidade de Postagem',
                data: [12, 19, 3, 5, 2],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                x: {
                    display: false // Remove as linhas de grade do eixo X
                },
                y: {
                    display: false // Remove as linhas de grade do eixo Y
                }
            }
        }
    });


</script>